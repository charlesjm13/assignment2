{"remainingRequest":"D:\\Charles\\College Docs\\Spring 2021\\CS 322\\Assignment 2\\revue\\client\\node_modules\\thread-loader\\dist\\cjs.js!D:\\Charles\\College Docs\\Spring 2021\\CS 322\\Assignment 2\\revue\\client\\node_modules\\babel-loader\\lib\\index.js!D:\\Charles\\College Docs\\Spring 2021\\CS 322\\Assignment 2\\revue\\client\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\Charles\\College Docs\\Spring 2021\\CS 322\\Assignment 2\\revue\\client\\node_modules\\vue-cli-plugin-vue-next\\node_modules\\vue-loader\\dist\\index.js??ref--0-1!D:\\Charles\\College Docs\\Spring 2021\\CS 322\\Assignment 2\\revue\\client\\src\\components\\SubvueInfo.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\Charles\\College Docs\\Spring 2021\\CS 322\\Assignment 2\\revue\\client\\src\\components\\SubvueInfo.vue","mtime":1617217110192},{"path":"D:\\Charles\\College Docs\\Spring 2021\\CS 322\\Assignment 2\\revue\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Charles\\College Docs\\Spring 2021\\CS 322\\Assignment 2\\revue\\client\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Charles\\College Docs\\Spring 2021\\CS 322\\Assignment 2\\revue\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\Charles\\College Docs\\Spring 2021\\CS 322\\Assignment 2\\revue\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Charles\\College Docs\\Spring 2021\\CS 322\\Assignment 2\\revue\\client\\node_modules\\vue-cli-plugin-vue-next\\node_modules\\vue-loader\\dist\\index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0IFN1YnZ1ZXNTZXJ2aWNlIGZyb20gJ0Avc2VydmljZXMvU3VidnVlc1NlcnZpY2UnOwppbXBvcnQgVXNlcnNTZXJ2aWNlIGZyb20gJ0Avc2VydmljZXMvVXNlcnNTZXJ2aWNlJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdzdWJ2dWUtaW5mbycsCiAgcHJvcHM6IFsnc3VidnVlJ10sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHN1YnNjcmliZWQ6IGZhbHNlCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgc3Vic2NyaWJlOiBmdW5jdGlvbiBzdWJzY3JpYmUoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBpZiAoIXRoaXMuJHN0b3JlLnN0YXRlLmlzVXNlckxvZ2dlZEluKSB7CiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgbmFtZTogJ0xvZ2luJwogICAgICAgIH0pOwogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQoKICAgICAgU3VidnVlc1NlcnZpY2Uuc3Vic2NyaWJlKHRoaXMuc3VidnVlLnBlcm1hbGluaykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAvLyBTYXZlIGRhdGEgaW4gc3RvcmUgZm9yIG5hdmJhcgogICAgICAgIF90aGlzLiRzdG9yZS5kaXNwYXRjaCgndXBkYXRlU3Vic2NyaWJlZFN1YnZ1ZXMnLCByZXNwb25zZS5kYXRhLnN1YnNjcmliZWQpOyAvLyBDaGVjayBidXR0b24KCgogICAgICAgIF90aGlzLmNoZWNrU3Vic2NyaWJlZCgpOwogICAgICB9KTsKICAgIH0sCiAgICB1bnN1YnNjcmliZTogZnVuY3Rpb24gdW5zdWJzY3JpYmUoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgaWYgKCF0aGlzLiRzdG9yZS5zdGF0ZS5pc1VzZXJMb2dnZWRJbikgewogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgIG5hbWU6ICdMb2dpbicKICAgICAgICB9KTsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KCiAgICAgIFN1YnZ1ZXNTZXJ2aWNlLnVuc3Vic2NyaWJlKHRoaXMuc3VidnVlLnBlcm1hbGluaykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAvLyBTYXZlIGRhdGEgaW4gc3RvcmUgZm9yIG5hdmJhcgogICAgICAgIF90aGlzMi4kc3RvcmUuZGlzcGF0Y2goJ3VwZGF0ZVN1YnNjcmliZWRTdWJ2dWVzJywgcmVzcG9uc2UuZGF0YS5zdWJzY3JpYmVkKTsgLy8gQ2hlY2sgYnV0dG9uCgoKICAgICAgICBfdGhpczIuY2hlY2tTdWJzY3JpYmVkKCk7CiAgICAgIH0pOwogICAgfSwKICAgIGNoZWNrU3Vic2NyaWJlZDogZnVuY3Rpb24gY2hlY2tTdWJzY3JpYmVkKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIGlmICghdGhpcy4kc3RvcmUuc3RhdGUuaXNVc2VyTG9nZ2VkSW4pIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KCiAgICAgIFVzZXJzU2VydmljZS51c2VybmFtZSh0aGlzLiRzdG9yZS5zdGF0ZS51c2VyLnVzZXJuYW1lKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIHZhciBmaWx0ZXJlZFN1YnNjcmliZWRTdWJ2dWVzID0gcmVzcG9uc2UuZGF0YS5zdWJzY3JpYmVkLmZpbHRlcihmdW5jdGlvbiAocykgewogICAgICAgICAgcmV0dXJuIHMucGVybWFsaW5rID09IF90aGlzMy5zdWJ2dWUucGVybWFsaW5rOwogICAgICAgIH0pOwogICAgICAgIF90aGlzMy5zdWJzY3JpYmVkID0gZmlsdGVyZWRTdWJzY3JpYmVkU3VidnVlcy5sZW5ndGggPiAwOwogICAgICB9KTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmNoZWNrU3Vic2NyaWJlZCgpOwogIH0sCiAgd2F0Y2g6IHsKICAgIHN1YnZ1ZTogZnVuY3Rpb24gc3VidnVlKCkgewogICAgICB0aGlzLmNoZWNrU3Vic2NyaWJlZCgpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["D:\\Charles\\College Docs\\Spring 2021\\CS 322\\Assignment 2\\revue\\client\\src\\components\\SubvueInfo.vue"],"names":[],"mappings":";AAkBA,OAAO,cAAP,MAA2B,2BAA3B;AACA,OAAO,YAAP,MAAyB,yBAAzB;AAEA,eAAe;AACX,EAAA,IAAI,EAAE,aADK;AAGX,EAAA,KAAK,EAAE,CAAC,QAAD,CAHI;AAKX,EAAA,IALW,kBAKJ;AACH,WAAO;AACH,MAAA,UAAU,EAAE;AADT,KAAP;AAGH,GATU;AAWX,EAAA,OAAO,EAAE;AACL,IAAA,SADK,uBACO;AAAA;;AACR,UAAI,CAAC,KAAK,MAAL,CAAY,KAAZ,CAAkB,cAAvB,EAAuC;AACnC,aAAK,OAAL,CAAa,IAAb,CAAkB;AAAE,UAAA,IAAI,EAAE;AAAR,SAAlB;AACA,eAAO,KAAP;AACJ;;AAEA,MAAA,cAAc,CAAC,SAAf,CAAyB,KAAK,MAAL,CAAY,SAArC,EACK,IADL,CACU,UAAA,QAAO,EAAK;AACd;AACA,QAAA,KAAI,CAAC,MAAL,CAAY,QAAZ,CAAqB,yBAArB,EAAgD,QAAQ,CAAC,IAAT,CAAc,UAA9D,EAFc,CAId;;;AACA,QAAA,KAAI,CAAC,eAAL;AACH,OAPL;AAQH,KAfI;AAiBL,IAAA,WAjBK,yBAiBS;AAAA;;AACV,UAAI,CAAC,KAAK,MAAL,CAAY,KAAZ,CAAkB,cAAvB,EAAuC;AACnC,aAAK,OAAL,CAAa,IAAb,CAAkB;AAAE,UAAA,IAAI,EAAE;AAAR,SAAlB;AACA,eAAO,KAAP;AACJ;;AAEA,MAAA,cAAc,CAAC,WAAf,CAA2B,KAAK,MAAL,CAAY,SAAvC,EACK,IADL,CACU,UAAA,QAAO,EAAK;AACd;AACA,QAAA,MAAI,CAAC,MAAL,CAAY,QAAZ,CAAqB,yBAArB,EAAgD,QAAQ,CAAC,IAAT,CAAc,UAA9D,EAFc,CAId;;;AACA,QAAA,MAAI,CAAC,eAAL;AACH,OAPL;AAQH,KA/BI;AAiCL,IAAA,eAjCK,6BAiCa;AAAA;;AACd,UAAI,CAAC,KAAK,MAAL,CAAY,KAAZ,CAAkB,cAAvB,EAAuC;AACnC,eAAO,KAAP;AACJ;;AAEA,MAAA,YAAY,CAAC,QAAb,CAAsB,KAAK,MAAL,CAAY,KAAZ,CAAkB,IAAlB,CAAuB,QAA7C,EACK,IADL,CACU,UAAA,QAAO,EAAK;AACd,YAAI,yBAAwB,GAAI,QAAQ,CAAC,IAAT,CAAc,UAAd,CAAyB,MAAzB,CAAgC,UAAA,CAAA,EAAK;AACjE,iBAAO,CAAC,CAAC,SAAF,IAAe,MAAI,CAAC,MAAL,CAAY,SAAlC;AACH,SAF+B,CAAhC;AAGA,QAAA,MAAI,CAAC,UAAL,GAAkB,yBAAyB,CAAC,MAA1B,GAAmC,CAArD;AACH,OANL;AAOJ;AA7CK,GAXE;AA2DX,EAAA,OA3DW,qBA2DD;AACN,SAAK,eAAL;AACH,GA7DU;AA+DX,EAAA,KAAK,EAAE;AACH,IAAA,MADG,oBACM;AACL,WAAK,eAAL;AACJ;AAHG;AA/DI,CAAf","sourcesContent":["<template lang=\"html\">\r\n  <div class=\"subvue-info\">\r\n    <router-link class=\"heading\" :to=\"{ name: 'Subvue', params: {name: subvue.permalink} }\"><h2>{{ subvue.name }}</h2></router-link>\r\n    <p>{{ subvue.description }}</p>\r\n\r\n    <button @click=\"subscribe\" v-if=\"!subscribed\" class=\"subscribe-button\">Subscribe</button>\r\n    <button @click=\"unsubscribe\" v-if=\"subscribed\" class=\"subscribe-button\">Unsubscibe</button>\r\n\r\n    <p><strong>Moderators</strong></p>\r\n    <ul>\r\n      <li v-for=\"moderator in subvue.moderators\" :key=\"moderator.username\">\r\n        <router-link :to=\"{ name: 'User', params: {username: moderator.username} }\">{{ moderator.username }}</router-link>\r\n      </li>\r\n    </ul>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport SubvuesService from '@/services/SubvuesService'\r\nimport UsersService from '@/services/UsersService'\r\n\r\nexport default {\r\n    name: 'subvue-info',\r\n\r\n    props: ['subvue'],\r\n\r\n    data() {\r\n        return {\r\n            subscribed: false\r\n        }\r\n    },\r\n\r\n    methods: {\r\n        subscribe() {\r\n            if (!this.$store.state.isUserLoggedIn) {\r\n                this.$router.push({ name: 'Login' });\r\n                return false\r\n            }\r\n\r\n            SubvuesService.subscribe(this.subvue.permalink)\r\n                .then(response => {\r\n                    // Save data in store for navbar\r\n                    this.$store.dispatch('updateSubscribedSubvues', response.data.subscribed)\r\n\r\n                    // Check button\r\n                    this.checkSubscribed();\r\n                })\r\n        },\r\n\r\n        unsubscribe() {\r\n            if (!this.$store.state.isUserLoggedIn) {\r\n                this.$router.push({ name: 'Login' });\r\n                return false\r\n            }\r\n\r\n            SubvuesService.unsubscribe(this.subvue.permalink)\r\n                .then(response => {\r\n                    // Save data in store for navbar\r\n                    this.$store.dispatch('updateSubscribedSubvues', response.data.subscribed)\r\n\r\n                    // Check button\r\n                    this.checkSubscribed();\r\n                })\r\n        },\r\n\r\n        checkSubscribed() {\r\n            if (!this.$store.state.isUserLoggedIn) {\r\n                return false\r\n            }\r\n\r\n            UsersService.username(this.$store.state.user.username)\r\n                .then(response => {\r\n                    var filteredSubscribedSubvues = response.data.subscribed.filter(s => {\r\n                        return s.permalink == this.subvue.permalink\r\n                    });\r\n                    this.subscribed = filteredSubscribedSubvues.length > 0\r\n                })\r\n        }\r\n    },\r\n\r\n    mounted() {\r\n        this.checkSubscribed()\r\n    },\r\n\r\n    watch: {\r\n        subvue() {\r\n            this.checkSubscribed()\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"css\">\r\n.heading {\r\n    color: black;\r\n}\r\n\r\n.heading:hover {\r\n    color: rgb(48, 99, 219);\r\n}\r\n\r\n.subvue-info {\r\n    padding: 10px;\r\n}\r\n\r\n.subscribe-button {\r\n    background-color: rgb(23, 92, 93);\r\n    color: white;\r\n    border: 0;\r\n    padding: 10px 25px;\r\n    cursor: pointer;\r\n}\r\n\r\n.subscribe-button:hover {\r\n    background-color: rgb(19, 112, 113);\r\n}\r\n\r\n.moderator {\r\n    color: rgb(48, 99, 219);\r\n    cursor: pointer;\r\n}\r\n</style>\r\n"],"sourceRoot":""}]}