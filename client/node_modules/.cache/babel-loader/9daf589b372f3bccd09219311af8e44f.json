{"remainingRequest":"D:\\Charles\\College Docs\\Spring 2021\\CS 322\\Assignment 2\\revue\\client\\node_modules\\babel-loader\\lib\\index.js!D:\\Charles\\College Docs\\Spring 2021\\CS 322\\Assignment 2\\revue\\client\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\Charles\\College Docs\\Spring 2021\\CS 322\\Assignment 2\\revue\\client\\node_modules\\vue-cli-plugin-vue-next\\node_modules\\vue-loader\\dist\\index.js??ref--0-1!D:\\Charles\\College Docs\\Spring 2021\\CS 322\\Assignment 2\\revue\\client\\src\\components\\Vote.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\Charles\\College Docs\\Spring 2021\\CS 322\\Assignment 2\\revue\\client\\src\\components\\Vote.vue","mtime":1617217110192},{"path":"D:\\Charles\\College Docs\\Spring 2021\\CS 322\\Assignment 2\\revue\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Charles\\College Docs\\Spring 2021\\CS 322\\Assignment 2\\revue\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\Charles\\College Docs\\Spring 2021\\CS 322\\Assignment 2\\revue\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Charles\\College Docs\\Spring 2021\\CS 322\\Assignment 2\\revue\\client\\node_modules\\vue-cli-plugin-vue-next\\node_modules\\vue-loader\\dist\\index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHN0b3JlIGZyb20gJ0Avc3RvcmUvaW5kZXgnOwppbXBvcnQgUG9zdHNTZXJ2aWNlIGZyb20gJ0Avc2VydmljZXMvUG9zdHNTZXJ2aWNlJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICd2b3RlJywKICBwcm9wczogWyd1cHZvdGVzJywgJ2Rvd252b3RlcycsICdwb3N0SWQnXSwKICBtZXRob2RzOiB7CiAgICB1cFZvdGU6IGZ1bmN0aW9uIHVwVm90ZSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIFBvc3RzU2VydmljZS51cFZvdGUodGhpcy5wb3N0SWQpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXMudXB2b3RlcyA9IHJlc3BvbnNlLmRhdGEudXB2b3RlczsKICAgICAgICBfdGhpcy5kb3dudm90ZXMgPSByZXNwb25zZS5kYXRhLmRvd252b3RlczsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICBfdGhpcy4kZW1pdCgnZXJyb3InLCBlLnJlc3BvbnNlLmRhdGEuZXJyb3IpOwogICAgICB9KTsKICAgIH0sCiAgICBkb3duVm90ZTogZnVuY3Rpb24gZG93blZvdGUoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgUG9zdHNTZXJ2aWNlLmRvd25Wb3RlKHRoaXMucG9zdElkKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzMi51cHZvdGVzID0gcmVzcG9uc2UuZGF0YS51cHZvdGVzOwogICAgICAgIF90aGlzMi5kb3dudm90ZXMgPSByZXNwb25zZS5kYXRhLmRvd252b3RlczsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICBfdGhpczIuJGVtaXQoJ2Vycm9yJywgZS5yZXNwb25zZS5kYXRhLmVycm9yKTsKICAgICAgfSk7CiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgdm90aW5nOiBmdW5jdGlvbiB2b3RpbmcoKSB7CiAgICAgIHJldHVybiB0aGlzLnVwdm90ZXMubGVuZ3RoIC0gdGhpcy5kb3dudm90ZXMubGVuZ3RoOwogICAgfSwKICAgIHZvdGVkVXA6IGZ1bmN0aW9uIHZvdGVkVXAoKSB7CiAgICAgIGlmICghc3RvcmUuc3RhdGUuaXNVc2VyTG9nZ2VkSW4pIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KCiAgICAgIGZvciAodmFyIGkgaW4gdGhpcy51cHZvdGVzKSB7CiAgICAgICAgaWYgKHRoaXMudXB2b3Rlc1tpXS51c2VybmFtZSA9PSBzdG9yZS5zdGF0ZS51c2VyLnVzZXJuYW1lKSB7CiAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0sCiAgICB2b3RlZERvd246IGZ1bmN0aW9uIHZvdGVkRG93bigpIHsKICAgICAgaWYgKCFzdG9yZS5zdGF0ZS5pc1VzZXJMb2dnZWRJbikgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQoKICAgICAgZm9yICh2YXIgaSBpbiB0aGlzLmRvd252b3RlcykgewogICAgICAgIGlmICh0aGlzLmRvd252b3Rlc1tpXS51c2VybmFtZSA9PSBzdG9yZS5zdGF0ZS51c2VyLnVzZXJuYW1lKSB7CiAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["D:\\Charles\\College Docs\\Spring 2021\\CS 322\\Assignment 2\\revue\\client\\src\\components\\Vote.vue"],"names":[],"mappings":"AAeA,OAAO,KAAP,MAAkB,eAAlB;AACA,OAAO,YAAP,MAAyB,yBAAzB;AAEA,eAAe;AACX,EAAA,IAAI,EAAE,MADK;AAGX,EAAA,KAAK,EAAE,CAAC,SAAD,EAAY,WAAZ,EAAyB,QAAzB,CAHI;AAKX,EAAA,OAAO,EAAE;AACL,IAAA,MADK,oBACI;AAAA;;AACL,MAAA,YAAY,CAAC,MAAb,CAAoB,KAAK,MAAzB,EACK,IADL,CACU,UAAA,QAAO,EAAK;AACd,QAAA,KAAI,CAAC,OAAL,GAAe,QAAQ,CAAC,IAAT,CAAc,OAA7B;AACA,QAAA,KAAI,CAAC,SAAL,GAAiB,QAAQ,CAAC,IAAT,CAAc,SAA/B;AACH,OAJL,EAKK,KALL,CAKW,UAAA,CAAA,EAAK;AACR,QAAA,KAAI,CAAC,KAAL,CAAW,OAAX,EAAoB,CAAC,CAAC,QAAF,CAAW,IAAX,CAAgB,KAApC;AACH,OAPL;AAQH,KAVI;AAYL,IAAA,QAZK,sBAYM;AAAA;;AACP,MAAA,YAAY,CAAC,QAAb,CAAsB,KAAK,MAA3B,EACK,IADL,CACU,UAAA,QAAO,EAAK;AACd,QAAA,MAAI,CAAC,OAAL,GAAe,QAAQ,CAAC,IAAT,CAAc,OAA7B;AACA,QAAA,MAAI,CAAC,SAAL,GAAiB,QAAQ,CAAC,IAAT,CAAc,SAA/B;AACH,OAJL,EAKK,KALL,CAKW,UAAA,CAAA,EAAK;AACR,QAAA,MAAI,CAAC,KAAL,CAAW,OAAX,EAAoB,CAAC,CAAC,QAAF,CAAW,IAAX,CAAgB,KAApC;AACH,OAPL;AAQJ;AArBK,GALE;AA6BX,EAAA,QAAQ,EAAE;AACN,IAAA,MADM,oBACG;AACL,aAAO,KAAK,OAAL,CAAa,MAAb,GAAsB,KAAK,SAAL,CAAe,MAA5C;AACH,KAHK;AAKN,IAAA,OALM,qBAKI;AACN,UAAI,CAAC,KAAK,CAAC,KAAN,CAAY,cAAjB,EAAiC;AAC7B,eAAO,KAAP;AACJ;;AAEA,WAAK,IAAI,CAAT,IAAc,KAAK,OAAnB,EAA4B;AACxB,YAAI,KAAK,OAAL,CAAa,CAAb,EAAgB,QAAhB,IAA4B,KAAK,CAAC,KAAN,CAAY,IAAZ,CAAiB,QAAjD,EAA2D;AACvD,iBAAO,IAAP;AACJ;AACJ;;AACA,aAAO,KAAP;AACH,KAhBK;AAkBN,IAAA,SAlBM,uBAkBM;AACR,UAAI,CAAC,KAAK,CAAC,KAAN,CAAY,cAAjB,EAAiC;AAC7B,eAAO,KAAP;AACJ;;AAEA,WAAK,IAAI,CAAT,IAAc,KAAK,SAAnB,EAA8B;AAC1B,YAAI,KAAK,SAAL,CAAe,CAAf,EAAkB,QAAlB,IAA8B,KAAK,CAAC,KAAN,CAAY,IAAZ,CAAiB,QAAnD,EAA6D;AACzD,iBAAO,IAAP;AACJ;AACJ;;AACA,aAAO,KAAP;AACJ;AA7BM;AA7BC,CAAf","sourcesContent":["<template lang=\"html\">\r\n  <div class=\"vote\">\r\n    <svg @click=\"upVote\" :class=\"{ active: votedUp }\" fill=\"#000000\" height=\"24\" viewBox=\"0 0 24 24\" width=\"24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n      <path d=\"M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z\"/>\r\n      <path d=\"M0 0h24v24H0z\" fill=\"none\"/>\r\n    </svg>\r\n    <p>{{ voting }}</p>\r\n    <svg @click=\"downVote\" :class=\"{ active: votedDown }\" fill=\"#000000\" height=\"24\" viewBox=\"0 0 24 24\" width=\"24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n      <path d=\"M7.41 7.84L12 12.42l4.59-4.58L18 9.25l-6 6-6-6z\"/>\r\n      <path d=\"M0-.75h24v24H0z\" fill=\"none\"/>\r\n    </svg>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport store from '@/store/index'\r\nimport PostsService from '@/services/PostsService'\r\n\r\nexport default {\r\n    name: 'vote',\r\n\r\n    props: ['upvotes', 'downvotes', 'postId'],\r\n\r\n    methods: {\r\n        upVote() {\r\n            PostsService.upVote(this.postId)\r\n                .then(response => {\r\n                    this.upvotes = response.data.upvotes\r\n                    this.downvotes = response.data.downvotes\r\n                })\r\n                .catch(e => {\r\n                    this.$emit('error', e.response.data.error)\r\n                })\r\n        },\r\n\r\n        downVote() {\r\n            PostsService.downVote(this.postId)\r\n                .then(response => {\r\n                    this.upvotes = response.data.upvotes\r\n                    this.downvotes = response.data.downvotes\r\n                })\r\n                .catch(e => {\r\n                    this.$emit('error', e.response.data.error)\r\n                })\r\n        }\r\n    },\r\n\r\n    computed: {\r\n        voting() {\r\n            return this.upvotes.length - this.downvotes.length\r\n        },\r\n\r\n        votedUp() {\r\n            if (!store.state.isUserLoggedIn) {\r\n                return false\r\n            }\r\n\r\n            for (var i in this.upvotes) {\r\n                if (this.upvotes[i].username == store.state.user.username) {\r\n                    return true\r\n                }\r\n            }\r\n            return false\r\n        },\r\n\r\n        votedDown() {\r\n            if (!store.state.isUserLoggedIn) {\r\n                return false\r\n            }\r\n\r\n            for (var i in this.downvotes) {\r\n                if (this.downvotes[i].username == store.state.user.username) {\r\n                    return true\r\n                }\r\n            }\r\n            return false\r\n        }\r\n    },\r\n}\r\n</script>\r\n\r\n<style lang=\"css\">\r\n.vote {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    margin-top: 20px;\r\n}\r\n\r\n.vote p {\r\n    margin: 10px 0;\r\n}\r\n\r\n.vote svg.active {\r\n    fill: red;\r\n}\r\n\r\n.vote svg:hover {\r\n    fill: rgb(27, 122, 249);\r\n    cursor: pointer;\r\n}\r\n</style>\r\n"],"sourceRoot":""}]}