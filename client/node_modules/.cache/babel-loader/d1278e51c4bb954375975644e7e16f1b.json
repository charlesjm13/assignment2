{"remainingRequest":"D:\\Charles\\College Docs\\Spring 2021\\CS 322\\Assignment 2\\revue\\client\\node_modules\\thread-loader\\dist\\cjs.js!D:\\Charles\\College Docs\\Spring 2021\\CS 322\\Assignment 2\\revue\\client\\node_modules\\babel-loader\\lib\\index.js!D:\\Charles\\College Docs\\Spring 2021\\CS 322\\Assignment 2\\revue\\client\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\Charles\\College Docs\\Spring 2021\\CS 322\\Assignment 2\\revue\\client\\src\\store\\index.js","dependencies":[{"path":"D:\\Charles\\College Docs\\Spring 2021\\CS 322\\Assignment 2\\revue\\client\\src\\store\\index.js","mtime":1617217110194},{"path":"D:\\Charles\\College Docs\\Spring 2021\\CS 322\\Assignment 2\\revue\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Charles\\College Docs\\Spring 2021\\CS 322\\Assignment 2\\revue\\client\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Charles\\College Docs\\Spring 2021\\CS 322\\Assignment 2\\revue\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\Charles\\College Docs\\Spring 2021\\CS 322\\Assignment 2\\revue\\client\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IFZ1ZXggZnJvbSAndnVleCc7CmltcG9ydCBjcmVhdGVQZXJzaXN0ZWRTdGF0ZSBmcm9tICd2dWV4LXBlcnNpc3RlZHN0YXRlJzsKaW1wb3J0IFVzZXJzU2VydmljZSBmcm9tICdAL3NlcnZpY2VzL1VzZXJzU2VydmljZSc7CmV4cG9ydCBkZWZhdWx0IFZ1ZXguY3JlYXRlU3RvcmUoewogIHBsdWdpbnM6IFtjcmVhdGVQZXJzaXN0ZWRTdGF0ZSgpXSwKICBzdGF0ZTogewogICAgdG9rZW46IG51bGwsCiAgICB1c2VyOiBudWxsLAogICAgaXNVc2VyTG9nZ2VkSW46IGZhbHNlLAogICAgc3Vic2NyaWJlZFN1YnZ1ZXM6IFtdCiAgfSwKICBtdXRhdGlvbnM6IHsKICAgIHNldFRva2VuOiBmdW5jdGlvbiBzZXRUb2tlbihzdGF0ZSwgdG9rZW4pIHsKICAgICAgc3RhdGUudG9rZW4gPSB0b2tlbjsKCiAgICAgIGlmICh0b2tlbikgewogICAgICAgIHN0YXRlLmlzVXNlckxvZ2dlZEluID0gdHJ1ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICBzdGF0ZS5pc1VzZXJMb2dnZWRJbiA9IGZhbHNlOwogICAgICB9CiAgICB9LAogICAgc2V0VXNlcjogZnVuY3Rpb24gc2V0VXNlcihzdGF0ZSwgdXNlcikgewogICAgICBzdGF0ZS51c2VyID0gdXNlcjsKICAgIH0sCiAgICBzZXRTdWJzY3JpYmVkU3VidnVlczogZnVuY3Rpb24gc2V0U3Vic2NyaWJlZFN1YnZ1ZXMoc3RhdGUsIHN1YnZ1ZXMpIHsKICAgICAgc3RhdGUuc3Vic2NyaWJlZFN1YnZ1ZXMgPSBzdWJ2dWVzOwogICAgfQogIH0sCiAgYWN0aW9uczogewogICAgc2V0VG9rZW46IGZ1bmN0aW9uIHNldFRva2VuKF9yZWYsIHRva2VuKSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmLmNvbW1pdDsKICAgICAgY29tbWl0KCdzZXRUb2tlbicsIHRva2VuKTsKICAgIH0sCiAgICBzZXRVc2VyOiBmdW5jdGlvbiBzZXRVc2VyKF9yZWYyLCB1c2VyKSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmMi5jb21taXQ7CiAgICAgIGNvbW1pdCgnc2V0VXNlcicsIHVzZXIpOwogICAgfSwKICAgIHVwZGF0ZVN1YnNjcmliZWRTdWJ2dWVzOiBmdW5jdGlvbiB1cGRhdGVTdWJzY3JpYmVkU3VidnVlcyhfcmVmMywgc3Vic2NyaWJlZE9wdGlvbmFsKSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmMy5jb21taXQsCiAgICAgICAgICBzdGF0ZSA9IF9yZWYzLnN0YXRlOwoKICAgICAgaWYgKHN0YXRlLmlzVXNlckxvZ2dlZEluKSB7CiAgICAgICAgaWYgKHN1YnNjcmliZWRPcHRpb25hbCkgewogICAgICAgICAgLy8gSWYgZGF0YSB3YXMgcHJvdmlkZWQKICAgICAgICAgIGNvbW1pdCgnc2V0U3Vic2NyaWJlZFN1YnZ1ZXMnLCBzdWJzY3JpYmVkT3B0aW9uYWwpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBVc2Vyc1NlcnZpY2UudXNlcm5hbWUoc3RhdGUudXNlci51c2VybmFtZSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgY29tbWl0KCdzZXRTdWJzY3JpYmVkU3VidnVlcycsIHJlc3BvbnNlLmRhdGEuc3Vic2NyaWJlZCk7CiAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7Ly8gY29uc29sZS5lcnJvcihlKQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfSwKICBtb2R1bGVzOiB7fQp9KTs="},{"version":3,"sources":["D:/Charles/College Docs/Spring 2021/CS 322/Assignment 2/revue/client/src/store/index.js"],"names":["Vuex","createPersistedState","UsersService","createStore","plugins","state","token","user","isUserLoggedIn","subscribedSubvues","mutations","setToken","setUser","setSubscribedSubvues","subvues","actions","commit","updateSubscribedSubvues","subscribedOptional","username","then","response","data","subscribed","catch","modules"],"mappings":"AAAA,OAAOA,IAAP,MAAiB,MAAjB;AACA,OAAOC,oBAAP,MAAiC,qBAAjC;AAEA,OAAOC,YAAP,MAAyB,yBAAzB;AAGA,eAAeF,IAAI,CAACG,WAAL,CAAiB;AAC5BC,EAAAA,OAAO,EAAE,CAACH,oBAAoB,EAArB,CADmB;AAG5BI,EAAAA,KAAK,EAAE;AACHC,IAAAA,KAAK,EAAE,IADJ;AAEHC,IAAAA,IAAI,EAAE,IAFH;AAGHC,IAAAA,cAAc,EAAE,KAHb;AAIHC,IAAAA,iBAAiB,EAAE;AAJhB,GAHqB;AAU5BC,EAAAA,SAAS,EAAE;AACPC,IAAAA,QADO,oBACEN,KADF,EACSC,KADT,EACgB;AACnBD,MAAAA,KAAK,CAACC,KAAN,GAAcA,KAAd;;AACA,UAAIA,KAAJ,EAAW;AACPD,QAAAA,KAAK,CAACG,cAAN,GAAuB,IAAvB;AACH,OAFD,MAEO;AACHH,QAAAA,KAAK,CAACG,cAAN,GAAuB,KAAvB;AACH;AACJ,KARM;AASPI,IAAAA,OATO,mBASCP,KATD,EASQE,IATR,EASc;AACjBF,MAAAA,KAAK,CAACE,IAAN,GAAaA,IAAb;AACH,KAXM;AAYPM,IAAAA,oBAZO,gCAYcR,KAZd,EAYqBS,OAZrB,EAY8B;AACjCT,MAAAA,KAAK,CAACI,iBAAN,GAA0BK,OAA1B;AACH;AAdM,GAViB;AA2B5BC,EAAAA,OAAO,EAAE;AACLJ,IAAAA,QADK,0BACgBL,KADhB,EACuB;AAAA,UAAjBU,MAAiB,QAAjBA,MAAiB;AACxBA,MAAAA,MAAM,CAAC,UAAD,EAAaV,KAAb,CAAN;AACH,KAHI;AAILM,IAAAA,OAJK,0BAIeL,IAJf,EAIqB;AAAA,UAAhBS,MAAgB,SAAhBA,MAAgB;AACtBA,MAAAA,MAAM,CAAC,SAAD,EAAYT,IAAZ,CAAN;AACH,KANI;AAOLU,IAAAA,uBAPK,0CAOsCC,kBAPtC,EAO0D;AAAA,UAArCF,MAAqC,SAArCA,MAAqC;AAAA,UAA7BX,KAA6B,SAA7BA,KAA6B;;AAC3D,UAAIA,KAAK,CAACG,cAAV,EAA0B;AACtB,YAAIU,kBAAJ,EAAwB;AACpB;AACAF,UAAAA,MAAM,CAAC,sBAAD,EAAyBE,kBAAzB,CAAN;AACH,SAHD,MAGO;AACHhB,UAAAA,YAAY,CAACiB,QAAb,CAAsBd,KAAK,CAACE,IAAN,CAAWY,QAAjC,EACKC,IADL,CACU,UAAAC,QAAQ,EAAI;AACdL,YAAAA,MAAM,CAAC,sBAAD,EAAyBK,QAAQ,CAACC,IAAT,CAAcC,UAAvC,CAAN;AACH,WAHL,EAIKC,KAJL,CAIW,YAAM,CACT;AACH,WANL;AAOH;AACJ;AACJ;AAtBI,GA3BmB;AAoD5BC,EAAAA,OAAO,EAAE;AApDmB,CAAjB,CAAf","sourcesContent":["import Vuex from 'vuex'\nimport createPersistedState from 'vuex-persistedstate'\n\nimport UsersService from '@/services/UsersService'\n\n\nexport default Vuex.createStore({\n    plugins: [createPersistedState()],\n\n    state: {\n        token: null,\n        user: null,\n        isUserLoggedIn: false,\n        subscribedSubvues: []\n    },\n\n    mutations: {\n        setToken(state, token) {\n            state.token = token\n            if (token) {\n                state.isUserLoggedIn = true\n            } else {\n                state.isUserLoggedIn = false\n            }\n        },\n        setUser(state, user) {\n            state.user = user\n        },\n        setSubscribedSubvues(state, subvues) {\n            state.subscribedSubvues = subvues\n        }\n    },\n\n    actions: {\n        setToken({ commit }, token) {\n            commit('setToken', token)\n        },\n        setUser({ commit }, user) {\n            commit('setUser', user)\n        },\n        updateSubscribedSubvues({ commit, state }, subscribedOptional) {\n            if (state.isUserLoggedIn) {\n                if (subscribedOptional) {\n                    // If data was provided\n                    commit('setSubscribedSubvues', subscribedOptional)\n                } else {\n                    UsersService.username(state.user.username)\n                        .then(response => {\n                            commit('setSubscribedSubvues', response.data.subscribed)\n                        })\n                        .catch(() => {\n                            // console.error(e)\n                        })\n                }\n            }\n        }\n    },\n\n    modules: {\n    }\n});\n"]}]}